---
title: "Jmeter! Et sprudlende værktøj."
header:
  teaser: /assets/images/postimages/Jmeter/Jmeter.png
  image: /assets/images/postimages/Jmeter/Jmeter.png
sidebar:
    image: /assets/images/postimages/Jmeter/Jmeter.png
    image_alt: "logo"
---
<h3>Forestil dig hvis du kunne få alle mennesker i et gigantisk kinesisk supermarked til at load-teste alle kasseapparater, alle ekspedienter, ringe til alle virksomhedens telefoner, stå i kø til lokummerne, åbne og lukke alle køleelementer, bevæge sig ned af de samme gange og på den måde teste hylderne stabilitet. Det kan du faktisk! Ihvertfald hvis det gigantiske supermarked består af en masse microservices. Det er Jmeter, det er power!</h3>

<p style="text-align: justify; hyphens: auto;">
Jeg satte en test op med 4000 fiktive brugere til at teste registreringsendpointet på UserService. Efter en masse konfigureringsfejl i JMeter GUI'en fik jeg det til at virke... sådan da.
Den oprettede 45 brugere og crashede.
Total users var sat til 4000. Ramp up time på 2 minutter. Loop 2, fordi jeg også gerne vil udsætte servicen for et load som resulterer i en database query der giver et DuplicateUserName tilbage. 
Test ressoursen sat /register via min gateway. 
Gatewayen kører fint og spytter forwarding-request ud i min docker-container. <b>UserServicen</b>.... <h4>død</h4>.  
</p>
<p style="text-align: justify; hyphens: auto;">
Så inden jeg går videre vil jeg altså lige sætte noget ratelimiting op på min Gateway og se om det kunne gøre noget! Jeg kunne også skrue på ramp-up timen, men det er alligevel på tide at der bliver 
sat noget ratelimiting op på min gateway. 
Jeg vender stærkt tilbage til denne post... forhåbentlig.
</p>